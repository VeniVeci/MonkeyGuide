# 性能调优利器--火焰图

曾经作为编程新手的我们是如何调优程序的？通常是在没有数据的情况下依靠主观臆断来瞎蒙，稍微有些经验的同学则会对差异代码进行二分或者逐段调试。这种定位问题的方式不仅耗时耗力，而且还不具有通用性，当遇到其他类似的性能问题时，需要重复踩坑、填坑，那么如何避免这种情况呢？

一个长条 表示第一层函数 占用的时间

对于每一个函数继续递归调用  展示时间

py-spy record -o profile.svg-python flame_script.py

dataservice  看一下逻辑

火焰图  每个api的调用和输出

和数据组 看一下

有没有优化空间




perf  采集  

每秒 99次


![image.png](./assets/image.png)



![image.png](./assets/1704292393262-image.png)




![image.png](./assets/1704292489505-image.png)



## 局限性


栈太深 的时候 火焰图 不能全部表示


匿名函数 不会显示出来 会用 地址来表示
